<!-- A bare bones web page to start SY306 assignments with !-->
<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Login</title>
      <meta charset="UTF-8">
      <link type="text/css" rel="stylesheet" href="styles.css">
   </head>
   <body>
     <nav>
   <div class="Navigation_Bar">
    <a href="signup.html">Signup</a>
    <a href="login.html">Login</a>
    <a href="msgboard.py"> Message Board </a>
  </div>
  </nav>
   <h1>Login</h1>
   <form name="signup_form" method="post" onsubmit= "return check_all()"
   action="http://midn.cs.usna.edu/~m215964/Project/login.py">
       Username: <input id="usrname" type="text" name="usrname" placeholder="Enter your username" onblur="return check_usrname()" onsubmit="return check_text()"><span id = "usrnameError"></span><br>
       Password: <input id="pwd" type="password" name="pwd" placeholder="Enter your password" onblur="return check_pwd()" onsubmit="return check_pwd()"><span id = "pwdError"></span><br>
       <br><input type="submit"  value="Submit Form">
       <input type="reset" value="Clear Form">
     </form>

  <script>
  // This function uses REGEX to make sure the password is within the described parameters - at least 6 characters and one number
  function check_usrname(){ //checks username input
    var usrname_val=document.getElementById("usrname").value;
    var usrnameError=document.getElementById("usrnameError");
    if (usrname_val==""){ //if the field is empty:
      usrnameError.style.color = "red";
      usrnameError.innerHTML = "*Please enter a username";
      return false;
    }
    else{
      usrnameError.innerHTML = "";
      return true;
    }
  }
////////////////////////////////////////////////////////////////////////
  function check_pwd(){ //validates password input
    // var pwd_pattern = new RegExp(/\w{6,}/);
    var pwd_pattern = new RegExp(/\w{6,}[0-9]{1,}/);
    var pwd_val = document.getElementById("pwd").value;
    var pwd2_val = document.getElementById("pwd2").value;
    var test = pwd_pattern.test(pwd_val);
    var pwdError=document.getElementById("pwdError");
    var pwd2Error=document.getElementById("pwd2Error");
    // document.write(test)
    if (test == false){ //if it does not match the regex:
      pwdError.style.color = "red";
      pwdError.innerHTML = "*Your password must be at least six characters and one number";
      return false;
    }
    if (pwd_val != pwd2_val){
      pwd2Error.style.color = "red";
      pwd2Error.innerHTML = "*Your password must match";
    }
    else{
      pwdError.innerHTML = "";
      pwd2Error.innerHTML = "";
      return true;
     }
   }
/////////////////////////////////////////////////////////////

  </script>

      <!-- ***************************************************************
         Below this point is text you should include on every SY306 page
         *************************************************************** -->
      <script src="http://courses.cyber.usna.edu/SY306/docs/htmlvalidate.js" ></script>

      <!-- The JS link above creates a button you can click on to validate your page.
      The background of the image will load green, yellow, or red if the HTML is valid,
      has errors, or has warnings. It will load grey if unable to determine validation.
      The time at which the page was last modified will also be displayed below the button -->

   </body>
</html>
